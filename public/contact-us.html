<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>AliyaStore Diploma</title>
    <link rel="stylesheet" href="./css/product.css" />
    <link rel="stylesheet" href="./css/contact-us.css" />
    <link rel="stylesheet" href="./css/basic.css" />
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=Lora:ital,wght@0,400..700;1,400..700&display=swap"
      rel="stylesheet"
    />
  </head>
  <style>
    .subscribe-box {
      position: relative;
      max-width: 260px;
      width: 100%;
      margin-bottom: 20px;
    }

    .footer-input {
      width: 100%;
      height: 42px;
      padding: 0 50px 0 12px;
      border-radius: 8px;
      border: 1px solid #534139;
      font-size: 14px;
      font-weight: 500;
      box-sizing: border-box;
      color: #0d0d0d;
    }

    .footer-input::placeholder {
      color: #aaa;
      font-size: 13px;
    }

    .footer-input:focus {
      border-color: #534139;
      box-shadow: 0 0 6px #534139;
      outline: none;
    }

    .send-btn {
      position: absolute;
      top: -2px;
      right: 1px;
      width: 52px;
      height: 55px;
      border-radius: 10%;
      background-color: #534139;
      border: none;
      cursor: pointer;
      display: flex;
      align-items: center;
      justify-content: center;
      padding: 0;
      transition: background-color 0.3s;
    }

    .send-btn:hover {
      background-color: #6b5146;
    }

    .send-btn img {
      width: 30x;
      height: 30px;
    }
  </style>
  <body>
    <section class="hero">
      <header>
        <div class="header-top">
          <div class="container">
            <div class="contact-info">
              <a href="tel:+380967891207">
                <img
                  src="./images/fi-bs-phone-call.svg"
                  alt="Іконка телефону"
                  width="20"
                  height="20"
                />
                +38 (067) 478 12 54
              </a>
              <a href="mailto:aliyastore@gmail.com">
                <img
                  src="./images/fi-bs-envelope.svg"
                  alt="Іконка пошти"
                  width="20"
                  height="20"
                />
                aliyastore@gmail.com
              </a>
            </div>
            <div class="social-links">
              <a href="#"
                ><img
                  src="./images/icon-instagram.svg"
                  alt="Instagram"
                  width="30"
                  height="30"
              /></a>
              <a href="#"
                ><img
                  src="./images/icon-facebook.svg"
                  alt="Facebook"
                  width="30"
                  height="30"
              /></a>
              <a href="#"
                ><img
                  src="./images/icon-twitter.svg"
                  alt="Twitter"
                  width="30"
                  height="30"
              /></a>
            </div>
          </div>
        </div>

        <div class="container">
          <div class="header-bottom">
            <a href="./index.html" class="logo">
              <img
                src="./images/logo-black.svg"
                alt="Логотип меблевого магазину"
              />
            </a>

            <!-- Бургер-меню -->
            <div class="burger" id="burger">
              <span></span>
              <span></span>
              <span></span>
            </div>

            <nav class="nav-menu" id="navMenu">
              <ul>
                <li><a class="link" href="./about-us.html">Про нас</a></li>
                <li><a class="link" href="./Catalog_Main.html">Каталог</a></li>
                <li><a class="link" href="./contact-us.html">Контакти</a></li>
                <li><a class="link" href="./blog.html">Блог</a></li>
                <li><a class="link" href="./faqs.html">FAQ</a></li>
              </ul>
            </nav>

            <div class="header-icons">
              <a href="favorites.html" class="icon-link"
                ><img src="./images/icon-heart.svg" alt="Додати в обране"
              /></a>
              <a href="basket.html" class="icon-link"
                ><img
                  src="./images/icon-shopping-cart.svg"
                  alt="Додати в кошик"
              /></a>
              <div id="user-menu-container" class="icon-link dropdown">
                <img src="./images/icon-user.svg" alt="Особистий кабінет" />
              </div>
            </div>
          </div>
        </div>
      </header>
    </section>
    <section class="contacts">
      <div class="container">
        <h1>Контакти</h1>
        <p class="subtitle">
          Ми завжди на зв'язку. Запишіть нам повідомлення, і ми відповімо
          якнайшвидше!
        </p>
        <div class="contacts-content">
          <div class="contact-i">
            <div>
              <div class="strong">
                <img
                  src="./images/address_contact.svg"
                  alt="іконка розташування"
                />
                <strong>Фізична адреса</strong>
              </div>
              <p>проспект В'ячеслава Чорновола 101, Львів, Україна</p>
            </div>
            <div>
              <div class="strong">
                <img src="./images/number_phone.svg" alt="іконка телефону" />
                <strong>Номер телефону</strong>
              </div>
              <p>+38 (067) 478 12 54</p>
            </div>
            <div>
              <div class="strong">
                <img src="./images/email_contact.svg" alt="іконка e-mail" />
                <strong>Електронна пошта</strong>
              </div>
              <p>aliyastore@gmail.com</p>
              <p>aliyastorerezerv@gmail.com</p>
            </div>
          </div>

          <div class="form-container">
            <div class="form-content">
              <h2>Зв’яжіться з нами</h2>
              <form id="contact-form" class="contact-form">
                <div class="input-group">
                  <div>
                    <p>Ім'я</p>
                    <input
                      type="text"
                      name="name"
                      placeholder="Ім'я"
                      required
                    />
                  </div>
                  <div>
                    <p>Номер телефону</p>
                    <input
                      type="text"
                      name="phone"
                      placeholder="Номер телефону"
                      required
                    />
                  </div>
                </div>

                <p>E-mail</p>
                <input
                  type="email"
                  name="email"
                  placeholder="E-mail"
                  required
                />

                <p>Запитання</p>
                <textarea
                  name="message"
                  placeholder="Ваше повідомлення"
                  required
                ></textarea>

                <button type="submit" class="login">Надіслати</button>
              </form>
            </div>
          </div>
        </div>
      </div>
    </section>
    <section class="map-section container" style="margin-top: -50px">
      <iframe
        src="https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d3559.656145166202!2d24.013972112721778!3d49.86513362921518!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x473addade7ab77f1%3A0x79433e4aeae7c9dd!2z0L_RgNC-0YHQv9C10LrRgiDQkifRj9GH0LXRgdC70LDQstCwINCn0L7RgNC90L7QstC-0LvQsCwgMTAxLCDQm9GM0LLRltCyLCDQm9GM0LLRltCy0YHRjNC60LAg0L7QsdC70LDRgdGC0YwsINCj0LrRgNCw0ZfQvdCwLCA3OTAwMA!5e1!3m2!1suk!2scz!4v1742821480567!5m2!1suk!2scz"
        width="100%"
        height="505"
        style="border: 0"
        allowfullscreen=""
        loading="lazy"
        referrerpolicy="no-referrer-when-downgrade"
      ></iframe>
    </section>
    <footer class="footer">
      <div class="container">
        <div class="footer-top">
          <div class="footer-logo-container">
            <a href="./index.html">
              <img
                src="./images/logo-footer.svg"
                alt="Логотип меблевого магазину"
                class="footer-logo"
            /></a>
            <p>
              <img
                src="./images/fi-bs-phone-call--footer.svg"
                alt=""
                class="footer-contacts"
              />
              +38 (067) 478 12 54
            </p>
            <p>
              <img
                src="./images/fi-bs-marker--footer.svg"
                alt=""
                class="footer-contacts"
              />
              проспект В'ячеслава Чорновола, 101, Львів, Україна
            </p>
          </div>
          <div class="footer-links">
            <ul>
              <li><a href="./about-us.html">Про нас</a></li>
              <li><a href="./cataloog.html">Каталог</a></li>
              <li><a href="./contact-us.html">Контакти</a></li>
            </ul>
            <ul>
              <li><a href="./personalinfo.html">Особистий кабінет</a></li>
              <li><a href="./blog.html">Блог</a></li>
              <li><a href="./faqs.html">FAQ</a></li>
            </ul>
          </div>
          <div class="footer-subscribe">
            <p>Підписатися на електронну пошту</p>
            <div class="subscribe-box">
              <input
                class="input"
                type="email"
                placeholder="       your email..."
              />
              <button class="send-btn" id="subscribe-btn">
                <img src="./images/send.svg" alt="send" />
              </button>
            </div>
            <div class="modal-overlay" id="modal">
              <div class="modal-message fancy">
                <button class="modal-close" id="modal-close">×</button>
                <div class="modal-icon">
                  <img src="./images/checkmark.svg" />
                </div>
                <h2 class="modal-title">Дякуємо за підписку!</h2>
              </div>
            </div>

            <div class="social-icons">
              <div class="icon-container">
                <img class="dsh" src="./images/icon-instagram.svg" alt="" />
              </div>
              <div class="icon-container">
                <img src="./images/icon-facebook.svg" alt="" />
              </div>
              <div class="icon-container">
                <img src="./images/icon-twitter.svg" alt="" />
              </div>
            </div>
          </div>
        </div>
      </div>
    </footer>
    <script>
      const modal = document.getElementById("modal");
      const closeBtn = document.getElementById("modal-close");

      document
        .getElementById("subscribe-btn")
        .addEventListener("click", function () {
          const emailInput = document.querySelector(".input").value.trim();

          if (emailInput === "") {
            alert("Будь ласка, введіть email");
            return;
          }

          modal.classList.add("show");
          modal.classList.remove("hide");

          setTimeout(() => {
            closeModal();
          }, 6000);

          document.querySelector(".input").value = "";
        });

      closeBtn.addEventListener("click", closeModal);

      function closeModal() {
        modal.classList.add("hide");
        modal.classList.remove("show");

        setTimeout(() => {
          modal.style.display = "none";
        }, 300);
      }

      const observer = new MutationObserver(() => {
        if (modal.classList.contains("show")) {
          modal.style.display = "flex";
        }
      });

      observer.observe(modal, { attributes: true });
    </script>
    <script>
      document.addEventListener("DOMContentLoaded", () => {
        const form = document.getElementById("contact-form");

        form.addEventListener("submit", async (e) => {
          e.preventDefault();

          const formData = new FormData(form);
          const payload = {
            name: formData.get("name").trim(),
            phone: formData.get("phone").trim(),
            email: formData.get("email").trim(),
            message: formData.get("message").trim(),
          };

          // Простенька клієнтська валідація
          if (
            !payload.name ||
            !payload.phone ||
            !payload.email ||
            !payload.message
          ) {
            alert("Будь ласка, заповніть усі поля.");
            return;
          }

          try {
            const res = await fetch("/api/contact", {
              method: "POST",
              headers: {
                "Content-Type": "application/json",
              },
              body: JSON.stringify(payload),
            });

            const data = await res.json();

            if (res.ok) {
              alert(data.message || "Повідомлення надіслано!");
              form.reset();
            } else {
              alert(data.error || "Сталася помилка при відправці.");
            }
          } catch (err) {
            console.error("Помилка запиту:", err);
            alert("Не вдалося з’єднатися із сервером. Спробуйте пізніше.");
          }
        });
      });

      // Бургер-меню
      document.getElementById("burger-btn").addEventListener("click", () => {
        document.getElementById("menu").classList.toggle("active");
      });
      document.addEventListener("click", (event) => {
        const menu = document.getElementById("menu");
        const btn = document.getElementById("burger-btn");
        if (!menu.contains(event.target) && !btn.contains(event.target)) {
          menu.classList.remove("active");
        }
      });
    </script>
    <script>
      const burger = document.getElementById("burger");
      const navMenu = document.getElementById("navMenu");

      burger.addEventListener("click", () => {
        navMenu.classList.toggle("active");
        burger.classList.toggle("active");
      });
    </script>
  </body>
</html>
